var We=Object.defineProperty;var Xe=(n,e,a)=>e in n?We(n,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[e]=a;var F=(n,e,a)=>(Xe(n,typeof e!="symbol"?e+"":e,a),a);import{S as N,i as x,s as ee,N as ae,O as le,m as d,h as o,n as u,b as w,C as h,B as C,v as $e,k as g,w as j,l as v,x as te,y as z,g as W,t as A,z as Q,d as X,f as b,e as Y,M as de,a as y,c as L,P as Ae,q as J,r as K,u as se,E as pe,o as je,Q as ze,R as Qe,T as Ye,G as Je,U as ke,V as Ke,p as Ne}from"../../../chunks/index-4ec85775.js";import{p as Ue,n as xe}from"../../../chunks/stores-46e20806.js";import{f as et,G as tt,b as at,d as lt,s as Ge,g as rt}from"../../../chunks/get-page-content-5f69ea6b.js";const Oe=async n=>{const e=et(n),{body:a}=await tt(e);return at({...a,pageName:n})},st=async n=>{if(n&&!(n&&(n==null?void 0:n.length)<=0))return await Promise.all(n==null?void 0:n.map(async e=>await Oe(e)||{name:e}))};class nt{constructor(e){F(this,"character");F(this,"parents");this.character=(e==null?void 0:e.character)||{},this.parents=[]}}class it{constructor(e){F(this,"root");F(this,"characterName");F(this,"requestedPagesId",[]);F(this,"MAX_FIRST_LOAD_PARIENTS",Math.pow(2,6));F(this,"getRequestedPagesId",()=>this.requestedPagesId);F(this,"init",async()=>{const e=await Oe(this.characterName||""),a=new nt({character:e});this.root=await this.insert(a)});F(this,"isMaxParientsReached",()=>this.requestedPagesId.length===this.MAX_FIRST_LOAD_PARIENTS);F(this,"insert",async e=>{var t,l,s,r,i;if(!e)return;if((t=e==null?void 0:e.character)!=null&&t.pageid&&this.requestedPagesId.includes((l=e==null?void 0:e.character)==null?void 0:l.pageid))return e;const a=await st(((s=e==null?void 0:e.character)==null?void 0:s.parentsNames)||[]);if(a&&(e!=null&&e.parents)){const c=a.map(f=>({character:f,parents:[]}));e.parents=c}return(r=e==null?void 0:e.character)!=null&&r.pageid&&this.requestedPagesId.push((i=e==null?void 0:e.character)==null?void 0:i.pageid),e});F(this,"insertWithBFSIteration",async e=>{const a=[];let t=e;if(t)for(a.push(t);a.length>0&&(t=a.shift(),!(!t||this.isMaxParientsReached()));)t=await this.insert(t),t!=null&&t.parents[0]&&a.push(t==null?void 0:t.parents[0]),t!=null&&t.parents[1]&&a.push(t==null?void 0:t.parents[1])});this.characterName=e}}const we=async n=>{const e=new it(n);return await e.init(),await e.insertWithBFSIteration(e.root),lt(e.requestedPagesId.map(a=>a.toString())),e.root};function ct(n){let e,a;return{c(){e=ae("svg"),a=ae("path"),this.h()},l(t){e=le(t,"svg",{xmlns:!0,viewBox:!0});var l=d(e);a=le(l,"path",{fill:!0,d:!0}),d(a).forEach(o),l.forEach(o),this.h()},h(){u(a,"fill","#fff"),u(a,"d","M9,11.75A1.25,1.25 0 0,0 7.75,13A1.25,1.25 0 0,0 9,14.25A1.25,1.25 0 0,0 10.25,13A1.25,1.25 0 0,0 9,11.75M15,11.75A1.25,1.25 0 0,0 13.75,13A1.25,1.25 0 0,0 15,14.25A1.25,1.25 0 0,0 16.25,13A1.25,1.25 0 0,0 15,11.75M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20C7.59,20 4,16.41 4,12C4,11.71 4,11.42 4.05,11.14C6.41,10.09 8.28,8.16 9.26,5.77C11.07,8.33 14.05,10 17.42,10C18.2,10 18.95,9.91 19.67,9.74C19.88,10.45 20,11.21 20,12C20,16.41 16.41,20 12,20Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24")},m(t,l){w(t,e,l),h(e,a)},p:C,i:C,o:C,d(t){t&&o(e)}}}class ot extends N{constructor(e){super(),x(this,e,null,ct,ee,{})}}function ft(n){let e,a;return{c(){e=ae("svg"),a=ae("path"),this.h()},l(t){e=le(t,"svg",{xmlns:!0,viewBox:!0});var l=d(e);a=le(l,"path",{fill:!0,d:!0}),d(a).forEach(o),l.forEach(o),this.h()},h(){u(a,"fill","#fff"),u(a,"d","M13.75 13C13.75 12.31 14.31 11.75 15 11.75S16.25 12.31 16.25 13 15.69 14.25 15 14.25 13.75 13.69 13.75 13M22 12V22H2V12C2 6.5 6.5 2 12 2S22 6.5 22 12M4 12C4 16.41 7.59 20 12 20S20 16.41 20 12C20 11.21 19.88 10.45 19.67 9.74C18.95 9.91 18.2 10 17.42 10C14.05 10 11.07 8.33 9.26 5.77C8.28 8.16 6.41 10.09 4.05 11.14C4 11.42 4 11.71 4 12M9 14.25C9.69 14.25 10.25 13.69 10.25 13S9.69 11.75 9 11.75 7.75 12.31 7.75 13 8.31 14.25 9 14.25Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24")},m(t,l){w(t,e,l),h(e,a)},p:C,i:C,o:C,d(t){t&&o(e)}}}class ht extends N{constructor(e){super(),x(this,e,null,ft,ee,{})}}function ut(n){let e,a;return{c(){e=ae("svg"),a=ae("path"),this.h()},l(t){e=le(t,"svg",{xmlns:!0,viewBox:!0});var l=d(e);a=le(l,"path",{fill:!0,d:!0}),d(a).forEach(o),l.forEach(o),this.h()},h(){u(a,"fill","#fff"),u(a,"d","M14.97,18.95L12.41,12.92C11.39,14.91 10.27,17 9.31,18.95C9.3,18.96 8.84,18.95 8.84,18.95C7.37,15.5 5.85,12.1 4.37,8.68C4.03,7.84 2.83,6.5 2,6.5C2,6.4 2,6.18 2,6.05H7.06V6.5C6.46,6.5 5.44,6.9 5.7,7.55C6.42,9.09 8.94,15.06 9.63,16.58C10.1,15.64 11.43,13.16 12,12.11C11.55,11.23 10.13,7.93 9.71,7.11C9.39,6.57 8.58,6.5 7.96,6.5C7.96,6.35 7.97,6.25 7.96,6.06L12.42,6.07V6.47C11.81,6.5 11.24,6.71 11.5,7.29C12.1,8.53 12.45,9.42 13,10.57C13.17,10.23 14.07,8.38 14.5,7.41C14.76,6.76 14.37,6.5 13.29,6.5C13.3,6.38 13.3,6.17 13.3,6.07C14.69,6.06 16.78,6.06 17.15,6.05V6.47C16.44,6.5 15.71,6.88 15.33,7.46L13.5,11.3C13.68,11.81 15.46,15.76 15.65,16.2L19.5,7.37C19.2,6.65 18.34,6.5 18,6.5C18,6.37 18,6.2 18,6.05L22,6.08V6.1L22,6.5C21.12,6.5 20.57,7 20.25,7.75C19.45,9.54 17,15.24 15.4,18.95C15.4,18.95 14.97,18.95 14.97,18.95Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24")},m(t,l){w(t,e,l),h(e,a)},p:C,i:C,o:C,d(t){t&&o(e)}}}class dt extends N{constructor(e){super(),x(this,e,null,ut,ee,{})}}function pt(n){let e,a;return{c(){e=ae("svg"),a=ae("path"),this.h()},l(t){e=le(t,"svg",{xmlns:!0,viewBox:!0});var l=d(e);a=le(l,"path",{fill:!0,d:!0}),d(a).forEach(o),l.forEach(o),this.h()},h(){u(a,"fill","#fff"),u(a,"d","M12 1A2.5 2.5 0 0 0 9.5 3.5A2.5 2.5 0 0 0 11 5.79V7H7A2 2 0 0 0 5 9V9.71A2.5 2.5 0 0 0 3.5 12A2.5 2.5 0 0 0 5 14.29V15H4A2 2 0 0 0 2 17V18.21A2.5 2.5 0 0 0 .5 20.5A2.5 2.5 0 0 0 3 23A2.5 2.5 0 0 0 5.5 20.5A2.5 2.5 0 0 0 4 18.21V17H8V18.21A2.5 2.5 0 0 0 6.5 20.5A2.5 2.5 0 0 0 9 23A2.5 2.5 0 0 0 11.5 20.5A2.5 2.5 0 0 0 10 18.21V17A2 2 0 0 0 8 15H7V14.29A2.5 2.5 0 0 0 8.5 12A2.5 2.5 0 0 0 7 9.71V9H17V9.71A2.5 2.5 0 0 0 15.5 12A2.5 2.5 0 0 0 17 14.29V15H16A2 2 0 0 0 14 17V18.21A2.5 2.5 0 0 0 12.5 20.5A2.5 2.5 0 0 0 15 23A2.5 2.5 0 0 0 17.5 20.5A2.5 2.5 0 0 0 16 18.21V17H20V18.21A2.5 2.5 0 0 0 18.5 20.5A2.5 2.5 0 0 0 21 23A2.5 2.5 0 0 0 23.5 20.5A2.5 2.5 0 0 0 22 18.21V17A2 2 0 0 0 20 15H19V14.29A2.5 2.5 0 0 0 20.5 12A2.5 2.5 0 0 0 19 9.71V9A2 2 0 0 0 17 7H13V5.79A2.5 2.5 0 0 0 14.5 3.5A2.5 2.5 0 0 0 12 1M12 2.5A1 1 0 0 1 13 3.5A1 1 0 0 1 12 4.5A1 1 0 0 1 11 3.5A1 1 0 0 1 12 2.5M6 11A1 1 0 0 1 7 12A1 1 0 0 1 6 13A1 1 0 0 1 5 12A1 1 0 0 1 6 11M18 11A1 1 0 0 1 19 12A1 1 0 0 1 18 13A1 1 0 0 1 17 12A1 1 0 0 1 18 11M3 19.5A1 1 0 0 1 4 20.5A1 1 0 0 1 3 21.5A1 1 0 0 1 2 20.5A1 1 0 0 1 3 19.5M9 19.5A1 1 0 0 1 10 20.5A1 1 0 0 1 9 21.5A1 1 0 0 1 8 20.5A1 1 0 0 1 9 19.5M15 19.5A1 1 0 0 1 16 20.5A1 1 0 0 1 15 21.5A1 1 0 0 1 14 20.5A1 1 0 0 1 15 19.5M21 19.5A1 1 0 0 1 22 20.5A1 1 0 0 1 21 21.5A1 1 0 0 1 20 20.5A1 1 0 0 1 21 19.5Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 24 24")},m(t,l){w(t,e,l),h(e,a)},p:C,i:C,o:C,d(t){t&&o(e)}}}class _t extends N{constructor(e){super(),x(this,e,null,pt,ee,{})}}function mt(n){let e,a,t;var l=n[1][n[0]];function s(r){return{}}return l&&(a=$e(l,s())),{c(){e=g("div"),a&&j(a.$$.fragment),this.h()},l(r){e=v(r,"DIV",{class:!0});var i=d(e);a&&te(a.$$.fragment,i),i.forEach(o),this.h()},h(){u(e,"class","icon svelte-57tuit")},m(r,i){w(r,e,i),a&&z(a,e,null),t=!0},p(r,[i]){if(l!==(l=r[1][r[0]])){if(a){W();const c=a;A(c.$$.fragment,1,0,()=>{Q(c,1)}),X()}l?(a=$e(l,s()),j(a.$$.fragment),b(a.$$.fragment,1),z(a,e,null)):a=null}},i(r){t||(a&&b(a.$$.fragment,r),t=!0)},o(r){a&&A(a.$$.fragment,r),t=!1},d(r){r&&o(e),a&&Q(a)}}}function gt(n,e,a){let{iconName:t}=e;const l={genderMale:ot,genderFemale:ht,wikipedia:dt,tree:_t};return n.$$set=s=>{"iconName"in s&&a(0,t=s.iconName)},[t,l]}class he extends N{constructor(e){super(),x(this,e,gt,mt,ee,{iconName:0})}}function Ee(n){var _e,me,ge,ve,be;let e,a,t,l,s,r,i,c,f,m,p,$,k,P,E,Z,oe,ue,fe,re,M=n[0].image&&Ce(n),q=n[0].name&&Te(n),S=n[0].bornDate&&Ve(n),B=n[0].diedDate&&Ie(n),H=n[0].causeofDeath&&Pe(n),R=n[0].burial&&De(n),T=((me=(_e=n[0])==null?void 0:_e.parentsNames)==null?void 0:me[0])&&Me(n),V=((ve=(ge=n[0])==null?void 0:ge.parentsNames)==null?void 0:ve[1])&&qe(n);Z=new he({props:{iconName:"wikipedia"}});let I=((be=n[0])==null?void 0:be.pageName)&&n[1]!==n[0].pageName&&Se(n);return{c(){e=g("section"),a=g("div"),t=g("table"),l=g("tbody"),M&&M.c(),s=y(),q&&q.c(),r=y(),i=g("div"),S&&S.c(),c=y(),B&&B.c(),f=y(),H&&H.c(),m=y(),R&&R.c(),p=y(),$=g("div"),T&&T.c(),k=y(),V&&V.c(),P=y(),E=g("a"),j(Z.$$.fragment),ue=y(),I&&I.c(),this.h()},l(_){e=v(_,"SECTION",{class:!0,id:!0});var D=d(e);a=v(D,"DIV",{class:!0});var ne=d(a);t=v(ne,"TABLE",{class:!0});var ie=d(t);l=v(ie,"TBODY",{});var U=d(l);M&&M.l(U),s=L(U),q&&q.l(U),r=L(U),i=v(U,"DIV",{class:!0});var G=d(i);S&&S.l(G),c=L(G),B&&B.l(G),f=L(G),H&&H.l(G),m=L(G),R&&R.l(G),G.forEach(o),p=L(U),$=v(U,"DIV",{class:!0});var O=d($);T&&T.l(O),k=L(O),V&&V.l(O),P=L(O),E=v(O,"A",{class:!0,target:!0,href:!0});var ce=d(E);te(Z.$$.fragment,ce),ce.forEach(o),ue=L(O),I&&I.l(O),O.forEach(o),U.forEach(o),ie.forEach(o),ne.forEach(o),D.forEach(o),this.h()},h(){var _;u(i,"class","text-container svelte-1phdted"),u(E,"class","wikipedia svelte-1phdted"),u(E,"target","_blank"),u(E,"href",oe=`https://en.wikipedia.org/?curid=${n[0].pageid}`),u($,"class","character-actions svelte-1phdted"),u(t,"class","svelte-1phdted"),u(a,"class","node-text svelte-1phdted"),u(e,"class","tf-nc svelte-1phdted"),u(e,"id",fe=(_=n[0].pageid)==null?void 0:_.toString())},m(_,D){w(_,e,D),h(e,a),h(a,t),h(t,l),M&&M.m(l,null),h(l,s),q&&q.m(l,null),h(l,r),h(l,i),S&&S.m(i,null),h(i,c),B&&B.m(i,null),h(i,f),H&&H.m(i,null),h(i,m),R&&R.m(i,null),h(l,p),h(l,$),T&&T.m($,null),h($,k),V&&V.m($,null),h($,P),h($,E),z(Z,E,null),h($,ue),I&&I.m($,null),re=!0},p(_,D){var ne,ie,U,G,O,ce;_[0].image?M?M.p(_,D):(M=Ce(_),M.c(),M.m(l,s)):M&&(M.d(1),M=null),_[0].name?q?q.p(_,D):(q=Te(_),q.c(),q.m(l,r)):q&&(q.d(1),q=null),_[0].bornDate?S?S.p(_,D):(S=Ve(_),S.c(),S.m(i,c)):S&&(S.d(1),S=null),_[0].diedDate?B?B.p(_,D):(B=Ie(_),B.c(),B.m(i,f)):B&&(B.d(1),B=null),_[0].causeofDeath?H?H.p(_,D):(H=Pe(_),H.c(),H.m(i,m)):H&&(H.d(1),H=null),_[0].burial?R?R.p(_,D):(R=De(_),R.c(),R.m(i,null)):R&&(R.d(1),R=null),(ie=(ne=_[0])==null?void 0:ne.parentsNames)!=null&&ie[0]?T?(T.p(_,D),D&1&&b(T,1)):(T=Me(_),T.c(),b(T,1),T.m($,k)):T&&(W(),A(T,1,1,()=>{T=null}),X()),(G=(U=_[0])==null?void 0:U.parentsNames)!=null&&G[1]?V?(V.p(_,D),D&1&&b(V,1)):(V=qe(_),V.c(),b(V,1),V.m($,P)):V&&(W(),A(V,1,1,()=>{V=null}),X()),(!re||D&1&&oe!==(oe=`https://en.wikipedia.org/?curid=${_[0].pageid}`))&&u(E,"href",oe),(O=_[0])!=null&&O.pageName&&_[1]!==_[0].pageName?I?(I.p(_,D),D&1&&b(I,1)):(I=Se(_),I.c(),b(I,1),I.m($,null)):I&&(W(),A(I,1,1,()=>{I=null}),X()),(!re||D&1&&fe!==(fe=(ce=_[0].pageid)==null?void 0:ce.toString()))&&u(e,"id",fe)},i(_){re||(b(T),b(V),b(Z.$$.fragment,_),b(I),re=!0)},o(_){A(T),A(V),A(Z.$$.fragment,_),A(I),re=!1},d(_){_&&o(e),M&&M.d(),q&&q.d(),S&&S.d(),B&&B.d(),H&&H.d(),R&&R.d(),T&&T.d(),V&&V.d(),Q(Z),I&&I.d()}}}function Ce(n){let e,a,t;return{c(){e=g("img"),this.h()},l(l){e=v(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Ae(e.src,a=n[0].image)||u(e,"src",a),u(e,"alt",t=`${n[0].name} character`),u(e,"class","svelte-1phdted")},m(l,s){w(l,e,s)},p(l,s){s&1&&!Ae(e.src,a=l[0].image)&&u(e,"src",a),s&1&&t!==(t=`${l[0].name} character`)&&u(e,"alt",t)},d(l){l&&o(e)}}}function Te(n){let e,a=n[0].name+"",t;return{c(){e=g("h3"),t=J(a),this.h()},l(l){e=v(l,"H3",{class:!0});var s=d(e);t=K(s,a),s.forEach(o),this.h()},h(){u(e,"class","svelte-1phdted")},m(l,s){w(l,e,s),h(e,t)},p(l,s){s&1&&a!==(a=l[0].name+"")&&se(t,a)},d(l){l&&o(e)}}}function Ve(n){let e,a,t,l,s,r,i,c=n[0].bornDate+"",f;return{c(){e=g("tr"),a=g("th"),t=g("p"),l=J("born"),s=y(),r=g("td"),i=g("p"),f=J(c),this.h()},l(m){e=v(m,"TR",{class:!0});var p=d(e);a=v(p,"TH",{class:!0});var $=d(a);t=v($,"P",{});var k=d(t);l=K(k,"born"),k.forEach(o),$.forEach(o),s=L(p),r=v(p,"TD",{class:!0});var P=d(r);i=v(P,"P",{});var E=d(i);f=K(E,c),E.forEach(o),P.forEach(o),p.forEach(o),this.h()},h(){u(a,"class","svelte-1phdted"),u(r,"class","svelte-1phdted"),u(e,"class","svelte-1phdted")},m(m,p){w(m,e,p),h(e,a),h(a,t),h(t,l),h(e,s),h(e,r),h(r,i),h(i,f)},p(m,p){p&1&&c!==(c=m[0].bornDate+"")&&se(f,c)},d(m){m&&o(e)}}}function Ie(n){let e,a,t,l,s,r,i,c=n[0].diedDate+"",f;return{c(){e=g("tr"),a=g("th"),t=g("p"),l=J("died"),s=y(),r=g("td"),i=g("p"),f=J(c),this.h()},l(m){e=v(m,"TR",{class:!0});var p=d(e);a=v(p,"TH",{class:!0});var $=d(a);t=v($,"P",{});var k=d(t);l=K(k,"died"),k.forEach(o),$.forEach(o),s=L(p),r=v(p,"TD",{class:!0});var P=d(r);i=v(P,"P",{});var E=d(i);f=K(E,c),E.forEach(o),P.forEach(o),p.forEach(o),this.h()},h(){u(a,"class","svelte-1phdted"),u(r,"class","svelte-1phdted"),u(e,"class","svelte-1phdted")},m(m,p){w(m,e,p),h(e,a),h(a,t),h(t,l),h(e,s),h(e,r),h(r,i),h(i,f)},p(m,p){p&1&&c!==(c=m[0].diedDate+"")&&se(f,c)},d(m){m&&o(e)}}}function Pe(n){let e,a,t,l,s,r,i,c=n[0].causeofDeath+"",f;return{c(){e=g("tr"),a=g("th"),t=g("p"),l=J("cause of death"),s=y(),r=g("td"),i=g("p"),f=J(c),this.h()},l(m){e=v(m,"TR",{class:!0});var p=d(e);a=v(p,"TH",{class:!0});var $=d(a);t=v($,"P",{});var k=d(t);l=K(k,"cause of death"),k.forEach(o),$.forEach(o),s=L(p),r=v(p,"TD",{class:!0});var P=d(r);i=v(P,"P",{});var E=d(i);f=K(E,c),E.forEach(o),P.forEach(o),p.forEach(o),this.h()},h(){u(a,"class","svelte-1phdted"),u(r,"class","svelte-1phdted"),u(e,"class","svelte-1phdted")},m(m,p){w(m,e,p),h(e,a),h(a,t),h(t,l),h(e,s),h(e,r),h(r,i),h(i,f)},p(m,p){p&1&&c!==(c=m[0].causeofDeath+"")&&se(f,c)},d(m){m&&o(e)}}}function De(n){let e,a,t,l,s,r,i,c=n[0].burial+"",f;return{c(){e=g("tr"),a=g("th"),t=g("p"),l=J("cause of death"),s=y(),r=g("td"),i=g("p"),f=J(c),this.h()},l(m){e=v(m,"TR",{class:!0});var p=d(e);a=v(p,"TH",{class:!0});var $=d(a);t=v($,"P",{});var k=d(t);l=K(k,"cause of death"),k.forEach(o),$.forEach(o),s=L(p),r=v(p,"TD",{class:!0});var P=d(r);i=v(P,"P",{});var E=d(i);f=K(E,c),E.forEach(o),P.forEach(o),p.forEach(o),this.h()},h(){u(a,"class","svelte-1phdted"),u(r,"class","svelte-1phdted"),u(e,"class","svelte-1phdted")},m(m,p){w(m,e,p),h(e,a),h(a,t),h(t,l),h(e,s),h(e,r),h(r,i),h(i,f)},p(m,p){p&1&&c!==(c=m[0].burial+"")&&se(f,c)},d(m){m&&o(e)}}}function Me(n){let e,a,t,l,s;return a=new he({props:{iconName:"genderMale"}}),{c(){e=g("button"),j(a.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0});var i=d(e);te(a.$$.fragment,i),i.forEach(o),this.h()},h(){u(e,"class","father svelte-1phdted")},m(r,i){w(r,e,i),z(a,e,null),t=!0,l||(s=pe(e,"click",n[4]),l=!0)},p:C,i(r){t||(b(a.$$.fragment,r),t=!0)},o(r){A(a.$$.fragment,r),t=!1},d(r){r&&o(e),Q(a),l=!1,s()}}}function qe(n){let e,a,t,l,s;return a=new he({props:{iconName:"genderFemale"}}),{c(){e=g("button"),j(a.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0});var i=d(e);te(a.$$.fragment,i),i.forEach(o),this.h()},h(){u(e,"class","mother svelte-1phdted")},m(r,i){w(r,e,i),z(a,e,null),t=!0,l||(s=pe(e,"click",n[5]),l=!0)},p:C,i(r){t||(b(a.$$.fragment,r),t=!0)},o(r){A(a.$$.fragment,r),t=!1},d(r){r&&o(e),Q(a),l=!1,s()}}}function Se(n){let e,a,t,l,s;return a=new he({props:{iconName:"tree"}}),{c(){e=g("button"),j(a.$$.fragment),this.h()},l(r){e=v(r,"BUTTON",{class:!0});var i=d(e);te(a.$$.fragment,i),i.forEach(o),this.h()},h(){u(e,"class","tree svelte-1phdted")},m(r,i){w(r,e,i),z(a,e,null),t=!0,l||(s=pe(e,"click",n[6]),l=!0)},p:C,i(r){t||(b(a.$$.fragment,r),t=!0)},o(r){A(a.$$.fragment,r),t=!1},d(r){r&&o(e),Q(a),l=!1,s()}}}function vt(n){var l;let e,a,t=((l=n[0])==null?void 0:l.name)&&Ee(n);return{c(){t&&t.c(),e=Y()},l(s){t&&t.l(s),e=Y()},m(s,r){t&&t.m(s,r),w(s,e,r),a=!0},p(s,[r]){var i;(i=s[0])!=null&&i.name?t?(t.p(s,r),r&1&&b(t,1)):(t=Ee(s),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(W(),A(t,1,1,()=>{t=null}),X())},i(s){a||(b(t),a=!0)},o(s){A(t),a=!1},d(s){t&&t.d(s),s&&o(e)}}}function bt(n,e,a){let t;de(n,Ue,$=>a(7,t=$));let{character:l=void 0}=e,{parents:s=[]}=e;const r=t.url,i=(r==null?void 0:r.searchParams.get("q"))??"",c=$=>{var P,E,Z;const k=s[$];(P=k==null?void 0:k.character)!=null&&P.pageid&&(E=k==null?void 0:k.character)!=null&&E.pageid&&Ge((Z=k==null?void 0:k.character)==null?void 0:Z.pageid.toString(),"smooth")},f=()=>c(0),m=()=>c(1),p=()=>{rt(`detail/?q=${l==null?void 0:l.pageName}`)};return n.$$set=$=>{"character"in $&&a(0,l=$.character),"parents"in $&&a(3,s=$.parents)},[l,i,c,s,f,m,p]}class $t extends N{constructor(e){super(),x(this,e,bt,vt,ee,{character:0,parents:3})}}function Be(n,e,a){const t=n.slice();return t[2]=e[a],t}function He(n){let e,a,t,l;const s=[n[0]];let r={};for(let c=0;c<s.length;c+=1)r=ze(r,s[c]);a=new $t({props:r});let i=n[0].parents.length>0&&Re(n);return{c(){e=g("li"),j(a.$$.fragment),t=y(),i&&i.c()},l(c){e=v(c,"LI",{});var f=d(e);te(a.$$.fragment,f),t=L(f),i&&i.l(f),f.forEach(o)},m(c,f){w(c,e,f),z(a,e,null),h(e,t),i&&i.m(e,null),l=!0},p(c,f){const m=f&1?Qe(s,[Ye(c[0])]):{};a.$set(m),c[0].parents.length>0?i?(i.p(c,f),f&1&&b(i,1)):(i=Re(c),i.c(),b(i,1),i.m(e,null)):i&&(W(),A(i,1,1,()=>{i=null}),X())},i(c){l||(b(a.$$.fragment,c),b(i),l=!0)},o(c){A(a.$$.fragment,c),A(i),l=!1},d(c){c&&o(e),Q(a),i&&i.d()}}}function Re(n){let e,a,t=n[0].parents,l=[];for(let r=0;r<t.length;r+=1)l[r]=Le(Be(n,t,r));const s=r=>A(l[r],1,1,()=>{l[r]=null});return{c(){e=g("ul");for(let r=0;r<l.length;r+=1)l[r].c()},l(r){e=v(r,"UL",{});var i=d(e);for(let c=0;c<l.length;c+=1)l[c].l(i);i.forEach(o)},m(r,i){w(r,e,i);for(let c=0;c<l.length;c+=1)l[c].m(e,null);a=!0},p(r,i){if(i&1){t=r[0].parents;let c;for(c=0;c<t.length;c+=1){const f=Be(r,t,c);l[c]?(l[c].p(f,i),b(l[c],1)):(l[c]=Le(f),l[c].c(),b(l[c],1),l[c].m(e,null))}for(W(),c=t.length;c<l.length;c+=1)s(c);X()}},i(r){if(!a){for(let i=0;i<t.length;i+=1)b(l[i]);a=!0}},o(r){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)A(l[i]);a=!1},d(r){r&&o(e),Je(l,r)}}}function ye(n){let e,a;return e=new Ze({props:{characterNode:n[2]}}),{c(){j(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,l){z(e,t,l),a=!0},p(t,l){const s={};l&1&&(s.characterNode=t[2]),e.$set(s)},i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){Q(e,t)}}}function Le(n){let e,a,t=n[2].parents&&ye(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,s){t&&t.m(l,s),w(l,e,s),a=!0},p(l,s){l[2].parents?t?(t.p(l,s),s&1&&b(t,1)):(t=ye(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(W(),A(t,1,1,()=>{t=null}),X())},i(l){a||(b(t),a=!0)},o(l){A(t),a=!1},d(l){t&&t.d(l),l&&o(e)}}}function At(n){let e,a,t=n[0].character&&He(n);return{c(){t&&t.c(),e=Y()},l(l){t&&t.l(l),e=Y()},m(l,s){t&&t.m(l,s),w(l,e,s),a=!0},p(l,[s]){l[0].character?t?(t.p(l,s),s&1&&b(t,1)):(t=He(l),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(W(),A(t,1,1,()=>{t=null}),X())},i(l){a||(b(t),a=!0)},o(l){A(t),a=!1},d(l){t&&t.d(l),l&&o(e)}}}function kt(n,e,a){var s,r;let{characterNode:t}=e;const l=(r=(s=t==null?void 0:t.character)==null?void 0:s.pageid)==null?void 0:r.toString();return je(async()=>{Ge(l||"")}),n.$$set=i=>{"characterNode"in i&&a(0,t=i.characterNode)},[t]}class Ze extends N{constructor(e){super(),x(this,e,kt,At,ee,{characterNode:0})}}function wt(n){let e,a;return{c(){e=g("div"),a=g("div"),this.h()},l(t){e=v(t,"DIV",{class:!0});var l=d(e);a=v(l,"DIV",{class:!0}),d(a).forEach(o),l.forEach(o),this.h()},h(){u(a,"class","spinner svelte-u0m97s"),u(e,"class","spinner-container svelte-u0m97s")},m(t,l){w(t,e,l),h(e,a)},p:C,i:C,o:C,d(t){t&&o(e)}}}class Et extends N{constructor(e){super(),x(this,e,null,wt,ee,{})}}function Ct(n){let e,a=n[7].message+"",t;return{c(){e=g("p"),t=J(a),this.h()},l(l){e=v(l,"P",{style:!0});var s=d(e);t=K(s,a),s.forEach(o),this.h()},h(){Ne(e,"color","red")},m(l,s){w(l,e,s),h(e,t)},p(l,s){s&1&&a!==(a=l[7].message+"")&&se(t,a)},i:C,o:C,d(l){l&&o(e)}}}function Tt(n){var l,s;let e,a,t=((s=(l=n[6])==null?void 0:l.character)==null?void 0:s.name)&&Fe(n);return{c(){t&&t.c(),e=Y()},l(r){t&&t.l(r),e=Y()},m(r,i){t&&t.m(r,i),w(r,e,i),a=!0},p(r,i){var c,f;(f=(c=r[6])==null?void 0:c.character)!=null&&f.name?t?(t.p(r,i),i&1&&b(t,1)):(t=Fe(r),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(W(),A(t,1,1,()=>{t=null}),X())},i(r){a||(b(t),a=!0)},o(r){A(t),a=!1},d(r){t&&t.d(r),r&&o(e)}}}function Fe(n){let e,a,t,l;return t=new Ze({props:{characterNode:n[6]}}),{c(){e=g("div"),a=g("ul"),j(t.$$.fragment),this.h()},l(s){e=v(s,"DIV",{class:!0});var r=d(e);a=v(r,"UL",{});var i=d(a);te(t.$$.fragment,i),i.forEach(o),r.forEach(o),this.h()},h(){u(e,"class","tf-tree tf-ancestor-tree tf-gap-lg")},m(s,r){w(s,e,r),h(e,a),z(t,a,null),l=!0},p(s,r){const i={};r&1&&(i.characterNode=s[6]),t.$set(i)},i(s){l||(b(t.$$.fragment,s),l=!0)},o(s){A(t.$$.fragment,s),l=!1},d(s){s&&o(e),Q(t)}}}function Vt(n){let e,a;return e=new Et({}),{c(){j(e.$$.fragment)},l(t){te(e.$$.fragment,t)},m(t,l){z(e,t,l),a=!0},p:C,i(t){a||(b(e.$$.fragment,t),a=!0)},o(t){A(e.$$.fragment,t),a=!1},d(t){Q(e,t)}}}function It(n){let e,a,t,l={ctx:n,current:null,token:null,hasCatch:!0,pending:Vt,then:Tt,catch:Ct,value:6,error:7,blocks:[,,,]};return ke(a=n[0],l),{c(){e=Y(),l.block.c()},l(s){e=Y(),l.block.l(s)},m(s,r){w(s,e,r),l.block.m(s,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(s,[r]){n=s,l.ctx=n,r&1&&a!==(a=n[0])&&ke(a,l)||Ke(l,n,r)},i(s){t||(b(l.block),t=!0)},o(s){for(let r=0;r<3;r+=1){const i=l.blocks[r];A(i)}t=!1},d(s){s&&o(e),l.block.d(s),l.token=null,l=null}}}function Pt(n,e,a){let t,l;de(n,xe,f=>a(2,t=f)),de(n,Ue,f=>a(3,l=f));const s=!1,r=l.url;let i={},c=(r==null?void 0:r.searchParams.get("q"))??"";return c&&(i=we(c)),n.$$.update=()=>{var f,m;if(n.$$.dirty&4&&t){const p=((f=t==null?void 0:t.to)==null?void 0:f.url.searchParams.get("q"))??"";(((m=t==null?void 0:t.from)==null?void 0:m.url.searchParams.get("q"))??"")!==p&&a(0,i=we(p))}},[i,s,t]}class Bt extends N{constructor(e){super(),x(this,e,Pt,It,ee,{prerender:1})}get prerender(){return this.$$.ctx[1]}}export{Bt as default};
